<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Juego de los Cuatro Sietes</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle,#111,#000);
    color:white;
    text-align:center;
}
h1{
    font-size:42px;
    margin-top:20px;
    color:#00ffcc;
    text-shadow:0 0 15px #00ffcc;
}
.info{
    max-width:750px;
    margin:15px auto;
    padding:20px;
    border:2px solid #00ffcc;
    border-radius:18px;
    background:rgba(0,0,0,0.7);
    box-shadow:0 0 25px #00ffcc;
}
button{
    padding:15px 25px;
    margin:12px;
    font-size:18px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    background:#00ffcc;
    color:black;
    font-weight:bold;
    box-shadow:0 0 15px #00ffcc;
    transition:0.2s;
}
button:hover{
    transform:scale(1.05);
}
#slotArea{
    display:none;
    margin-top:25px;
}
.slotGrid{
    display:flex;
    justify-content:center;
    gap:20px;
    margin:25px auto;
}
.slotBox{
    width:90px;
    height:110px;
    font-size:55px;
    font-weight:bold;
    border-radius:18px;
    border:3px solid magenta;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(145deg,#222,#111);
    box-shadow:0 0 20px magenta;
}
#timer{
    font-size:28px;
    margin-top:15px;
    color:yellow;
    text-shadow:0 0 10px yellow;
}
#mensaje{
    font-size:24px;
    margin-top:20px;
    font-weight:bold;
}
</style>
</head>

<body>

<h1>üé∞ JUEGO DE LOS 4 SIETES üé∞</h1>

<div class="info">
    <p>üî• Bienvenido al desaf√≠o m√°s dif√≠cil del grupo.</p>
    <p><b>Valor de participaci√≥n:</b> 1 USDT</p>
    <p><b>Premio m√°ximo:</b> 150 USDT</p>

    <p>
        üéØ Objetivo: lograr el resultado perfecto <b>7777</b>.<br>
        Presiona girar y observa los n√∫meros girando durante 5 segundos.<br>
        Si pierdes, quedas bloqueado hasta recibir un nuevo c√≥digo.
    </p>
</div>

<button onclick="pantallaAcceso()">üéÆ QUIERO JUGAR</button>

<button onclick="window.open('https://wa.me/58752291?text=Hola%20me%20interesa%20participar%20en%20el%20juego%20de%20los%20cuatro%20sietes')">
üì≤ Pedir c√≥digo por WhatsApp
</button>

<!-- AREA DEL JUEGO -->
<div id="slotArea">

    <h2>üé∞ Resultado objetivo: <span style="color:lime;">7777</span></h2>

    <div class="slotGrid">
        <div class="slotBox" id="n1">0</div>
        <div class="slotBox" id="n2">0</div>
        <div class="slotBox" id="n3">0</div>
        <div class="slotBox" id="n4">0</div>
    </div>

    <div id="timer">‚è≥ Tiempo: 5</div>

    <button onclick="girar()">üé≤ GIRAR</button>

</div>

<div id="mensaje"></div>

<script>
/* ===========================
   20 C√ìDIGOS DE ACCESO (8)
=========================== */
let codigosAcceso = [
 "A7b92Xq1","K8mP0zR2","H3T9vYx4","Q1wE7rT9","M9nB5cD2",
 "Z4xC8vB1","L2pO6iU3","N7mK1qW5","F6gH2jK9","R8tY3uI7",
 "X1zA9sD4","C5vB8nM2","P7qW3eR6","T9yU1iO5","G2hJ7kL8",
 "V3bN6mQ1","S8dF4gH9","W5eR2tY7","U1iO9pL3","J6kL8mN4"
];

let bloqueado = false;

/* ===========================
   SISTEMA DE SONIDOS (CASINO)
=========================== */
function beep(freq, dur){
    let ctx = new AudioContext();
    let osc = ctx.createOscillator();
    let gain = ctx.createGain();

    osc.frequency.value = freq;
    gain.gain.value = 0.06;

    osc.connect(gain);
    gain.connect(ctx.destination);

    osc.start();
    osc.stop(ctx.currentTime + dur);
}

/* Sonidos espec√≠ficos */
function sonidoClick(){ beep(600,0.08); }
function sonidoTick(){ beep(350,0.05); }
function sonidoGiro(){ beep(180,0.5); }
function sonidoPerder(){ beep(120,0.7); }
function sonidoGanar(){ beep(900,0.6); }

/* ===========================
   PANTALLA ACCESO
=========================== */
function pantallaAcceso(){
    if(bloqueado){
        alert("üö´ Est√°s bloqueado. Pide un nuevo c√≥digo.");
        return;
    }

    sonidoClick();

    let codigo = prompt("üîë Inserta tu c√≥digo de acceso (8 d√≠gitos):");

    if(!codigosAcceso.includes(codigo)){
        alert("‚ùå C√≥digo inv√°lido.");
        return;
    }

    document.getElementById("slotArea").style.display="block";
}

/* ===========================
   FUNCION GIRAR
=========================== */
function girar(){

    if(bloqueado) return;

    sonidoClick();
    document.getElementById("mensaje").innerText="";

    let tiempo = 5;
    document.getElementById("timer").innerText="‚è≥ Tiempo: "+tiempo;

    let intervalo = setInterval(()=>{

        sonidoGiro(); // sonido mientras gira

        // n√∫meros aleatorios
        document.getElementById("n1").innerText = Math.floor(Math.random()*10);
        document.getElementById("n2").innerText = Math.floor(Math.random()*10);
        document.getElementById("n3").innerText = Math.floor(Math.random()*10);
        document.getElementById("n4").innerText = Math.floor(Math.random()*10);

    },200);

    let cronometro = setInterval(()=>{

        tiempo--;
        sonidoTick(); // tic cada segundo
        document.getElementById("timer").innerText="‚è≥ Tiempo: "+tiempo;

        if(tiempo<=0){

            clearInterval(intervalo);
            clearInterval(cronometro);

            // Resultado final (nunca 7777)
            let final = [
                Math.floor(Math.random()*10),
                Math.floor(Math.random()*10),
                Math.floor(Math.random()*10),
                Math.floor(Math.random()*10)
            ];

            // evitar jackpot
            if(final.join("")==="7777"){
                final[3]=6;
            }

            document.getElementById("n1").innerText=final[0];
            document.getElementById("n2").innerText=final[1];
            document.getElementById("n3").innerText=final[2];
            document.getElementById("n4").innerText=final[3];

            // Verificaci√≥n
            if(final.join("")==="7777"){
                sonidoGanar();
                document.getElementById("mensaje").innerHTML=
                    "üéâ GANASTE EL PREMIO! C√≥digo ganador: <b>7777---7414</b>";

                setTimeout(()=>{
                    window.open("https://wa.me/58752291?text=He%20ganado%20el%20juego%20de%20los%20cuatro%20sietes%20y%20mi%20codigo%20de%20ganador%20es%207777---7414");
                },1500);

            } else {
                sonidoPerder();
                document.getElementById("mensaje").innerText=
                    "‚ùå PERDISTE. Juego bloqueado. Solicita un nuevo c√≥digo.";

                bloqueado = true;
            }
        }

    },1000);
}
</script>

</body>
</html>
